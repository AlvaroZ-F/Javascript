<DOCTYPE! html>
<html lang="en-EN">
	<!--
		Design a website that'd use cookies to store the username. In case we'd have no cookies from this site, it'd have to ask the username and store in a cookie that'd expire in 5 minutes. After this, it'd say hello to the user through a message on screen. In case we'd already have the cookie created it'd be able to read it, and print the previously mentioned messaged automatically. It'd also provide a link to delete the cookie (We can call it "Logout").
		Be sure your cookie can store any sort of character.
	-->
	<head>
		<meta charset="utf-8">
		<title>Cookies #1</title>
	</head>

	<body>

		<script type="text/javascript">

			function getCookie(username) {
				var name = username + "=";
				var decodedCookie = decodeURIComponent(document.cookie);
				//Decode the cookie string so it can work with cookies with special characters.
				var ca = decodedCookie.split(";");
				// Split document.cookie on semicolons into an array called ca.

				for (var i = 0; i < ca.length; i++) {
					// Look through the ca array and read out each value into a new variable called "c".
					var c = ca[i];
					while (c.charAt[0] == ' ') {
						c = c.substring(1);
					}
					if (c.indexOf(name) == 0) {
						// If the cookie is found, returns the value of the cookie.
						return c.substring(name.length, c.length);
					}
				}
				// If the cookie isn't found then it'd return "".
				return "";
			}

			function checkCookie() {
				var username = getCookie("username"); //Finds all cookies related to usernames.
				if (username != "") {
					alert ("Welcome again "+ username);
				} else {
					var usern = prompt("Please introduce your username. . .");
					createCookie(username);
					alert ("Cookie has been created successfully. Welcome back.")
				}
			}

			function createCookie(username) {
				var date = new Date();
				date.setTime(date.getTime()+(5*60*1000));
				var expires = "; expires"+date.toGMTString();
				document.cookie = username+"="+username+";"+expires+";path=/";
			}

			function deleteCookie(username) {
				document.cookie = "username="+username+"; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
				alert("The cookie has been deleted");
			}

			alert("Warning, this website uses COOKIES");

			checkCookie();

		</script>

		<button type="button" onclick="deleteCookie(username)">Delete Cookie</button>
		
	</body>

</html>